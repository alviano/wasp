input = """
1 2 0 0
1 3 0 0
1 4 0 0
1 5 0 0
1 6 0 0
1 7 0 0
1 8 0 0
1 9 0 0
1 10 0 0
1 11 0 0
1 12 0 0
1 13 0 0
1 14 0 0
1 15 0 0
1 16 0 0
1 17 0 0
1 18 0 0
1 19 0 0
1 20 0 0
1 21 0 0
1 22 0 0
1 23 0 0
1 24 0 0
1 25 0 0
1 26 0 0
1 27 0 0
1 28 0 0
1 29 0 0
1 30 0 0
1 31 0 0
1 32 0 0
1 33 0 0
1 34 0 0
1 35 0 0
1 36 0 0
1 37 0 0
1 38 0 0
1 39 0 0
1 40 0 0
1 41 0 0
1 42 0 0
1 43 0 0
1 44 0 0
1 45 0 0
1 46 0 0
1 47 0 0
1 48 0 0
1 49 2 1 50 51
1 50 2 1 49 51
1 51 0 0
1 52 2 1 53 54
1 53 2 1 52 54
1 54 0 0
1 55 2 1 56 57
1 56 2 1 55 57
1 57 0 0
1 58 2 1 59 60
1 59 2 1 58 60
1 60 0 0
1 61 2 1 62 63
1 62 2 1 61 63
1 63 0 0
1 64 2 1 65 66
1 65 2 1 64 66
1 66 0 0
1 67 2 1 68 69
1 68 2 1 67 69
1 69 0 0
1 70 2 1 71 72
1 71 2 1 70 72
1 72 0 0
1 73 2 1 74 75
1 74 2 1 73 75
1 75 0 0
1 76 2 1 77 78
1 77 2 1 76 78
1 78 0 0
1 79 2 1 80 81
1 80 2 1 79 81
1 81 0 0
1 82 2 1 83 84
1 83 2 1 82 84
1 84 0 0
1 49 2 1 50 85
1 50 2 1 49 85
1 85 0 0
1 52 2 1 53 86
1 53 2 1 52 86
1 86 0 0
1 55 2 1 56 87
1 56 2 1 55 87
1 87 0 0
1 58 2 1 59 88
1 59 2 1 58 88
1 88 0 0
1 61 2 1 62 89
1 62 2 1 61 89
1 89 0 0
1 64 2 1 65 90
1 65 2 1 64 90
1 90 0 0
1 67 2 1 68 91
1 68 2 1 67 91
1 91 0 0
1 70 2 1 71 92
1 71 2 1 70 92
1 92 0 0
1 73 2 1 74 93
1 74 2 1 73 93
1 93 0 0
1 76 2 1 77 94
1 77 2 1 76 94
1 94 0 0
1 79 2 1 80 95
1 80 2 1 79 95
1 95 0 0
1 82 2 1 83 96
1 83 2 1 82 96
1 96 0 0
1 97 2 1 98 99
1 98 2 1 97 99
1 99 0 0
1 100 2 1 101 102
1 101 2 1 100 102
1 102 0 0
1 103 2 1 104 105
1 104 2 1 103 105
1 105 0 0
1 106 2 1 107 108
1 107 2 1 106 108
1 108 0 0
1 109 2 1 110 111
1 110 2 1 109 111
1 111 0 0
1 112 2 1 113 114
1 113 2 1 112 114
1 114 0 0
1 115 2 1 116 117
1 116 2 1 115 117
1 117 0 0
1 118 2 1 119 120
1 119 2 1 118 120
1 120 0 0
1 121 2 1 122 123
1 122 2 1 121 123
1 123 0 0
1 124 2 1 125 126
1 125 2 1 124 126
1 126 0 0
1 127 2 1 128 129
1 128 2 1 127 129
1 129 0 0
1 130 2 1 131 132
1 131 2 1 130 132
1 132 0 0
1 97 2 1 98 133
1 98 2 1 97 133
1 133 0 0
1 100 2 1 101 134
1 101 2 1 100 134
1 134 0 0
1 103 2 1 104 135
1 104 2 1 103 135
1 135 0 0
1 106 2 1 107 136
1 107 2 1 106 136
1 136 0 0
1 109 2 1 110 137
1 110 2 1 109 137
1 137 0 0
1 112 2 1 113 138
1 113 2 1 112 138
1 138 0 0
1 115 2 1 116 139
1 116 2 1 115 139
1 139 0 0
1 118 2 1 119 140
1 119 2 1 118 140
1 140 0 0
1 121 2 1 122 141
1 122 2 1 121 141
1 141 0 0
1 124 2 1 125 142
1 125 2 1 124 142
1 142 0 0
1 127 2 1 128 143
1 128 2 1 127 143
1 143 0 0
1 130 2 1 131 144
1 131 2 1 130 144
1 144 0 0
1 145 1 0 64
1 146 1 0 67
1 147 1 0 49
1 148 1 0 97
1 149 1 0 100
1 150 2 0 149 103
1 151 2 0 149 106
1 152 2 0 148 112
1 150 2 0 148 115
1 153 2 0 147 52
1 154 2 0 146 70
1 155 2 0 146 73
1 153 2 0 146 55
1 154 2 0 145 79
1 156 2 0 155 76
1 157 2 0 155 61
1 146 2 0 155 73
1 156 2 0 154 82
1 146 2 0 154 70
1 145 2 0 154 79
1 146 2 0 153 55
1 157 2 0 153 58
1 147 2 0 153 52
1 158 2 0 152 127
1 148 2 0 152 112
1 159 2 0 151 109
1 149 2 0 151 106
1 158 2 0 150 118
1 159 2 0 150 121
1 149 2 0 150 103
1 148 2 0 150 115
1 160 2 0 159 124
1 151 2 0 159 109
1 150 2 0 159 121
1 160 2 0 158 130
1 150 2 0 158 118
1 152 2 0 158 127
1 155 2 0 157 61
1 153 2 0 157 58
1 155 2 0 156 76
1 154 2 0 156 82
1 159 2 0 160 124
1 158 2 0 160 130
1 1 1 1 156
1 1 1 1 159
1 1 2 0 130 82
1 1 2 0 127 79
1 1 2 0 124 76
1 1 2 0 121 73
1 1 2 0 118 70
1 1 2 0 115 67
1 1 2 0 112 64
1 1 2 0 109 61
1 1 2 0 106 58
1 1 2 0 103 55
1 1 2 0 100 52
1 1 2 0 97 49
1 1 2 0 82 130
1 1 2 0 79 127
1 1 2 0 76 124
1 1 2 0 73 121
1 1 2 0 70 118
1 1 2 0 67 115
1 1 2 0 64 112
1 1 2 0 61 109
1 1 2 0 58 106
1 1 2 0 55 103
1 1 2 0 52 100
1 1 2 0 49 97
1 1 2 0 97 52
1 1 2 0 49 100
1 1 2 0 100 49
1 1 2 0 52 97
1 1 2 0 103 58
1 1 2 0 55 106
1 1 2 0 103 52
1 1 2 0 55 100
1 1 2 0 106 55
1 1 2 0 58 103
1 1 2 0 106 52
1 1 2 0 58 100
1 1 2 0 109 58
1 1 2 0 61 106
1 1 2 0 112 67
1 1 2 0 64 115
1 1 2 0 112 49
1 1 2 0 64 97
1 1 2 0 115 64
1 1 2 0 67 112
1 1 2 0 115 49
1 1 2 0 67 97
1 1 2 0 118 73
1 1 2 0 70 121
1 1 2 0 118 55
1 1 2 0 70 103
1 1 2 0 118 67
1 1 2 0 70 115
1 1 2 0 121 70
1 1 2 0 73 118
1 1 2 0 121 55
1 1 2 0 73 103
1 1 2 0 121 67
1 1 2 0 73 115
1 1 2 0 124 61
1 1 2 0 76 109
1 1 2 0 124 73
1 1 2 0 76 121
1 1 2 0 127 64
1 1 2 0 79 112
1 1 2 0 130 70
1 1 2 0 82 118
1 1 2 0 130 79
1 1 2 0 82 127
1 1 2 0 97 64
1 1 2 0 49 112
1 1 2 0 97 67
1 1 2 0 49 115
1 1 2 0 100 55
1 1 2 0 52 103
1 1 2 0 100 58
1 1 2 0 52 106
1 1 2 0 103 70
1 1 2 0 55 118
1 1 2 0 103 73
1 1 2 0 55 121
1 1 2 0 103 67
1 1 2 0 55 115
1 1 2 0 106 61
1 1 2 0 58 109
1 1 2 0 109 76
1 1 2 0 61 124
1 1 2 0 109 73
1 1 2 0 61 121
1 1 2 0 112 79
1 1 2 0 64 127
1 1 2 0 115 70
1 1 2 0 67 118
1 1 2 0 115 73
1 1 2 0 67 121
1 1 2 0 115 55
1 1 2 0 67 103
1 1 2 0 118 82
1 1 2 0 70 130
1 1 2 0 118 79
1 1 2 0 70 127
1 1 2 0 121 76
1 1 2 0 73 124
1 1 2 0 121 61
1 1 2 0 73 109
1 1 2 0 124 82
1 1 2 0 76 130
1 1 2 0 127 82
1 1 2 0 79 130
1 1 2 0 127 70
1 1 2 0 79 118
1 1 2 0 130 76
1 1 2 0 82 124
1 1 2 0 160 156
1 1 2 0 159 155
1 1 2 0 158 154
1 1 2 0 157 151
1 1 2 0 156 160
1 1 2 0 155 159
1 1 2 0 154 158
1 1 2 0 153 149
1 1 2 0 152 145
1 1 2 0 151 157
1 1 2 0 150 146
1 1 2 0 149 153
1 1 2 0 146 150
1 1 2 0 145 152
1 161 2 1 147 52
1 161 2 1 153 55
1 161 2 1 153 58
1 161 2 1 157 61
1 161 2 1 146 70
1 161 2 1 146 73
1 161 2 1 155 76
1 161 2 1 145 79
1 161 2 1 154 82
1 161 2 1 153 52
1 161 2 1 146 55
1 161 2 1 157 58
1 161 2 1 155 61
1 161 2 1 154 70
1 161 2 1 155 73
1 161 2 1 156 76
1 161 2 1 154 79
1 161 2 1 156 82
1 161 2 1 149 103
1 161 2 1 149 106
1 161 2 1 151 109
1 161 2 1 148 112
1 161 2 1 148 115
1 161 2 1 150 118
1 161 2 1 150 121
1 161 2 1 159 124
1 161 2 1 152 127
1 161 2 1 158 130
1 161 2 1 150 103
1 161 2 1 151 106
1 161 2 1 159 109
1 161 2 1 152 112
1 161 2 1 150 115
1 161 2 1 158 118
1 161 2 1 159 121
1 161 2 1 160 124
1 161 2 1 158 127
1 161 2 1 160 130
1 162 1 0 130
1 163 1 0 127
1 164 1 0 124
1 165 1 0 121
1 166 1 0 118
1 167 1 0 115
1 168 1 0 112
1 169 1 0 109
1 170 1 0 106
1 171 1 0 103
1 172 1 0 100
1 173 1 0 97
1 162 1 0 82
1 163 1 0 79
1 164 1 0 76
1 165 1 0 73
1 166 1 0 70
1 167 1 0 67
1 168 1 0 64
1 169 1 0 61
1 170 1 0 58
1 171 1 0 55
1 172 1 0 52
1 173 1 0 49
0
49 linked(e_0_0_1_0,3)
52 linked(e_0_0_0_1,3)
55 linked(e_0_1_1_1,3)
58 linked(e_0_1_0_2,3)
61 linked(e_0_2_1_2,3)
64 linked(e_1_0_2_0,3)
67 linked(e_1_0_1_1,3)
70 linked(e_1_1_2_1,3)
73 linked(e_1_1_1_2,3)
76 linked(e_1_2_2_2,3)
79 linked(e_2_0_2_1,3)
82 linked(e_2_1_2_2,3)
97 linked(e_0_0_1_0,1)
100 linked(e_0_0_0_1,1)
103 linked(e_0_1_1_1,1)
106 linked(e_0_1_0_2,1)
109 linked(e_0_2_1_2,1)
112 linked(e_1_0_2_0,1)
115 linked(e_1_0_1_1,1)
118 linked(e_1_1_2_1,1)
121 linked(e_1_1_1_2,1)
124 linked(e_1_2_2_2,1)
127 linked(e_2_0_2_1,1)
130 linked(e_2_1_2_2,1)
162 link(e_2_1_2_2)
163 link(e_2_0_2_1)
164 link(e_1_2_2_2)
165 link(e_1_1_1_2)
166 link(e_1_1_2_1)
167 link(e_1_0_1_1)
168 link(e_1_0_2_0)
169 link(e_0_2_1_2)
170 link(e_0_1_0_2)
171 link(e_0_1_1_1)
172 link(e_0_0_0_1)
173 link(e_0_0_1_0)
50 noLinked(e_0_0_1_0,3)
53 noLinked(e_0_0_0_1,3)
56 noLinked(e_0_1_1_1,3)
59 noLinked(e_0_1_0_2,3)
62 noLinked(e_0_2_1_2,3)
65 noLinked(e_1_0_2_0,3)
68 noLinked(e_1_0_1_1,3)
71 noLinked(e_1_1_2_1,3)
74 noLinked(e_1_1_1_2,3)
77 noLinked(e_1_2_2_2,3)
80 noLinked(e_2_0_2_1,3)
83 noLinked(e_2_1_2_2,3)
98 noLinked(e_0_0_1_0,1)
101 noLinked(e_0_0_0_1,1)
104 noLinked(e_0_1_1_1,1)
107 noLinked(e_0_1_0_2,1)
110 noLinked(e_0_2_1_2,1)
113 noLinked(e_1_0_2_0,1)
116 noLinked(e_1_0_1_1,1)
119 noLinked(e_1_1_2_1,1)
122 noLinked(e_1_1_1_2,1)
125 noLinked(e_1_2_2_2,1)
128 noLinked(e_2_0_2_1,1)
131 noLinked(e_2_1_2_2,1)
161 pippo
23 connection(1,v_0_0,v_1_2)
24 connection(3,v_1_0,v_2_2)
11 edge(e_0_0_1_0,v_0_0,v_1_0)
12 edge(e_0_0_0_1,v_0_0,v_0_1)
13 edge(e_0_1_1_1,v_0_1,v_1_1)
14 edge(e_0_1_0_2,v_0_1,v_0_2)
15 edge(e_0_2_1_2,v_0_2,v_1_2)
16 edge(e_1_0_2_0,v_1_0,v_2_0)
17 edge(e_1_0_1_1,v_1_0,v_1_1)
18 edge(e_1_1_2_1,v_1_1,v_2_1)
19 edge(e_1_1_1_2,v_1_1,v_1_2)
20 edge(e_1_2_2_2,v_1_2,v_2_2)
21 edge(e_2_0_2_1,v_2_0,v_2_1)
22 edge(e_2_1_2_2,v_2_1,v_2_2)
145 path(3,v_1_0,v_2_0)
146 path(3,v_1_0,v_1_1)
147 path(3,v_1_0,v_0_0)
148 path(1,v_0_0,v_1_0)
149 path(1,v_0_0,v_0_1)
150 path(1,v_0_0,v_1_1)
151 path(1,v_0_0,v_0_2)
152 path(1,v_0_0,v_2_0)
153 path(3,v_1_0,v_0_1)
154 path(3,v_1_0,v_2_1)
155 path(3,v_1_0,v_1_2)
156 path(3,v_1_0,v_2_2)
157 path(3,v_1_0,v_0_2)
158 path(1,v_0_0,v_2_1)
159 path(1,v_0_0,v_1_2)
160 path(1,v_0_0,v_2_2)
25 uedge(e_2_1_2_2,v_2_2,v_2_1)
26 uedge(e_2_0_2_1,v_2_1,v_2_0)
27 uedge(e_1_2_2_2,v_2_2,v_1_2)
28 uedge(e_1_1_1_2,v_1_2,v_1_1)
29 uedge(e_1_1_2_1,v_2_1,v_1_1)
30 uedge(e_1_0_1_1,v_1_1,v_1_0)
31 uedge(e_1_0_2_0,v_2_0,v_1_0)
32 uedge(e_0_2_1_2,v_1_2,v_0_2)
33 uedge(e_0_1_0_2,v_0_2,v_0_1)
34 uedge(e_0_1_1_1,v_1_1,v_0_1)
35 uedge(e_0_0_0_1,v_0_1,v_0_0)
36 uedge(e_0_0_1_0,v_1_0,v_0_0)
37 uedge(e_2_1_2_2,v_2_1,v_2_2)
38 uedge(e_2_0_2_1,v_2_0,v_2_1)
39 uedge(e_1_2_2_2,v_1_2,v_2_2)
40 uedge(e_1_1_1_2,v_1_1,v_1_2)
41 uedge(e_1_1_2_1,v_1_1,v_2_1)
42 uedge(e_1_0_1_1,v_1_0,v_1_1)
43 uedge(e_1_0_2_0,v_1_0,v_2_0)
44 uedge(e_0_2_1_2,v_0_2,v_1_2)
45 uedge(e_0_1_0_2,v_0_1,v_0_2)
46 uedge(e_0_1_1_1,v_0_1,v_1_1)
47 uedge(e_0_0_0_1,v_0_0,v_0_1)
48 uedge(e_0_0_1_0,v_0_0,v_1_0)
2 node(v_0_0)
3 node(v_0_1)
4 node(v_0_2)
5 node(v_1_0)
6 node(v_1_1)
7 node(v_1_2)
8 node(v_2_0)
9 node(v_2_1)
10 node(v_2_2)
0
B+
0
B-
1
0
1
"""
output = """
{node(v_0_0), node(v_0_1), node(v_0_2), node(v_1_0), node(v_1_1), node(v_1_2), node(v_2_0), node(v_2_1), node(v_2_2), edge(e_0_0_1_0,v_0_0,v_1_0), edge(e_0_0_0_1,v_0_0,v_0_1), edge(e_0_1_1_1,v_0_1,v_1_1), edge(e_0_1_0_2,v_0_1,v_0_2), edge(e_0_2_1_2,v_0_2,v_1_2), edge(e_1_0_2_0,v_1_0,v_2_0), edge(e_1_0_1_1,v_1_0,v_1_1), edge(e_1_1_2_1,v_1_1,v_2_1), edge(e_1_1_1_2,v_1_1,v_1_2), edge(e_1_2_2_2,v_1_2,v_2_2), edge(e_2_0_2_1,v_2_0,v_2_1), edge(e_2_1_2_2,v_2_1,v_2_2), connection(1,v_0_0,v_1_2), connection(3,v_1_0,v_2_2), uedge(e_2_1_2_2,v_2_2,v_2_1), uedge(e_2_0_2_1,v_2_1,v_2_0), uedge(e_1_2_2_2,v_2_2,v_1_2), uedge(e_1_1_1_2,v_1_2,v_1_1), uedge(e_1_1_2_1,v_2_1,v_1_1), uedge(e_1_0_1_1,v_1_1,v_1_0), uedge(e_1_0_2_0,v_2_0,v_1_0), uedge(e_0_2_1_2,v_1_2,v_0_2), uedge(e_0_1_0_2,v_0_2,v_0_1), uedge(e_0_1_1_1,v_1_1,v_0_1), uedge(e_0_0_0_1,v_0_1,v_0_0), uedge(e_0_0_1_0,v_1_0,v_0_0), uedge(e_2_1_2_2,v_2_1,v_2_2), uedge(e_2_0_2_1,v_2_0,v_2_1), uedge(e_1_2_2_2,v_1_2,v_2_2), uedge(e_1_1_1_2,v_1_1,v_1_2), uedge(e_1_1_2_1,v_1_1,v_2_1), uedge(e_1_0_1_1,v_1_0,v_1_1), uedge(e_1_0_2_0,v_1_0,v_2_0), uedge(e_0_2_1_2,v_0_2,v_1_2), uedge(e_0_1_0_2,v_0_1,v_0_2), uedge(e_0_1_1_1,v_0_1,v_1_1), uedge(e_0_0_0_1,v_0_0,v_0_1), uedge(e_0_0_1_0,v_0_0,v_1_0), noLinked(e_1_2_2_2,3), linked(e_2_1_2_2,3), noLinked(e_1_1_2_1,1), noLinked(e_1_2_2_2,1), noLinked(e_2_0_2_1,1), noLinked(e_2_1_2_2,1), path(3,v_1_0,v_2_1), path(3,v_1_0,v_2_2), path(1,v_0_0,v_1_2), link(e_2_1_2_2), link(e_0_0_0_1), noLinked(e_0_0_1_0,3), noLinked(e_0_0_0_1,3), noLinked(e_0_1_1_1,3), noLinked(e_0_1_0_2,3), noLinked(e_0_0_1_0,1), linked(e_0_0_0_1,1), path(1,v_0_0,v_0_1), noLinked(e_1_0_1_1,1), noLinked(e_1_0_2_0,1), noLinked(e_1_1_1_2,3), noLinked(e_0_2_1_2,3)}
"""
